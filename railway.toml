# ðŸŒ€ Helix Collective v15.2 - Railway Multi-Service Configuration
# Defines both Discord Bot and Streamlit Dashboard services

# SERVICE 1: Discord Bot (Main Backend)
[[services]]
name = "helix-bot"

[services.build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[services.deploy]
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

# SERVICE 2: Streamlit Dashboard
[[services]]
name = "helix-dashboard"

[services.build]
builder = "nixpacks"

[services.deploy]
startCommand = "streamlit run dashboard/streamlit_app.py --server.port=$PORT --server.address=0.0.0.0 --server.headless=true --theme.base=dark --theme.primaryColor=#8A2BE2"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3
